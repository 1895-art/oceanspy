plugins:
  source:
    - module: intake_zarr
sources:
  # ===========================
  # SST-vel_LLC4320
  grd_SST_LLC4320:
    description: Grid associated LLC4320
    driver: zarr
    args:
      urlpath: /sciserver/filedb02-01/ocean/SST/
      xarray_kwargs:
        engine: zarr
        drop_variables: [''] # need to figure out which variables I am droping
    metadata:
      manipulate_coords:
        fillna: True
        coords1Dfrom2D: True
      grid_coords:
        add_midp: True
        grid_coords:
          Y:
            Y: 
            Yp1: 0.5
          X:
            X: 
            Xp1: 0.5
          # Z:
          #  Z: 
          #  Zp1: 0.5
          #  Zu: 0.5
          #  Zl: -0.5
          time: 
            time: -0.5
      parameters: # need to double check this parameters. Add scale factors
        rSphere: 6.371e+03
        eq_state: jmd95
        rho0: 1027
        g: 9.81
        eps_nh: 0 
        omega: 7.292123516990375e-05
        c_p: 3.986e+03
      name: SST_LLC4320
      description: |
        Sea surface temperature for the high-resolution (1/48 deg) global numerical simulation LLC4320. Domain is divided into 13 faces, with faces as a new dimension.
      citation: | 
        Add citation
      characteristics: | 
        Add citation
      mates: | 
      projection: 
            
  fld_SST_LLC4320:
    description: SST field for the LLC4320 simulation
    driver: zarr
    args:
      urlpath: /sciserver/filedb02-01/ocean/SST/
      xarray_kwargs:
        engine: zarr
        concat_dim: T
        parallel: True
    metadata:
      rename:
        T: time
      original_output: snapshot

